<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Incident Commander Assessment ‚Äì Enhanced Scenario Builder</title>
  <style>
    /* Global Reset */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* Body Styling */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
      display: flex; /* Use flexbox for centering content */
      justify-content: center; /* Center horizontally */
      align-items: center; /* Center vertically */
    }

    /* Main Container */
    .container {
      max-width: 1200px;
      width: 100%; /* Ensure it takes full width on smaller screens */
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    /* Header Section */
    .header {
      background: linear-gradient(135deg, #004080 0%, #0066cc 100%);
      color: white;
      padding: 30px;
      text-align: center;
    }

    .header h1 {
      font-size: 2.2em;
      margin-bottom: 10px;
      font-weight: 300;
    }

    .header p {
      opacity: 0.9;
      font-size: 1.1em;
    }

    /* Form Layout */
    .form-container {
      padding: 40px;
      display: grid;
      grid-template-columns: 1fr 1fr; /* Two columns by default */
      gap: 40px;
    }

    /* Individual Form Sections */
    .form-section {
      background: #f8f9fa;
      padding: 25px;
      border-radius: 8px;
      border-left: 4px solid #004080;
    }

    .section-title {
      color: #004080;
      font-size: 1.4em;
      margin-bottom: 20px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      font-weight: 600;
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-size: 0.95em;
    }

    /* Input, Select, Textarea Styling */
    select, textarea, input {
      width: 100%;
      padding: 12px;
      border: 2px solid #e1e5e9;
      border-radius: 6px;
      font-size: 14px;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      background: white;
    }

    select:focus, textarea:focus, input:focus {
      outline: none;
      border-color: #004080;
      box-shadow: 0 0 0 3px rgba(0, 64, 128, 0.1);
    }

    textarea {
      min-height: 80px;
      resize: vertical;
    }

    /* Button Group Styling */
    .button-group {
      grid-column: 1 / -1; /* Spans full width of the grid */
      display: flex;
      gap: 15px;
      justify-content: center;
      margin-top: 20px;
      flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
    }

    button {
      padding: 15px 30px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      flex-shrink: 0; /* Prevent buttons from shrinking too much */
    }

    .btn-primary {
      background: linear-gradient(135deg, #004080 0%, #0066cc 100%);
      color: white;
    }

    .btn-secondary {
      background: #6c757d;
      color: white;
    }

    .btn-success {
      background: #28a745;
      color: white;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    }

    /* Scenario Output Section */
    .scenario-output {
      grid-column: 1 / -1; /* Spans full width of the grid */
      background: #fff;
      border: 2px solid #004080;
      border-radius: 8px;
      padding: 25px;
      margin-top: 20px;
      display: none; /* Hidden by default */
    }

    .scenario-output h3 {
      color: #004080;
      margin-bottom: 15px;
      font-size: 1.3em;
    }

    .scenario-content {
      line-height: 1.6;
      color: #333;
    }

    /* Competency Grid (inside form-section) */
    .competency-grid {
      display: grid;
      grid-template-columns: 1fr 1fr; /* Two columns for competencies */
      gap: 15px;
    }

    /* Icons */
    .icon {
      font-size: 1.2em;
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .form-container {
        grid-template-columns: 1fr; /* Single column on smaller screens */
        gap: 20px;
        padding: 20px;
      }

      .competency-grid {
        grid-template-columns: 1fr; /* Single column for competencies on smaller screens */
      }

      .button-group {
        flex-direction: column; /* Stack buttons vertically on smaller screens */
        align-items: stretch; /* Stretch buttons to full width */
      }

      button {
        width: 100%; /* Make buttons take full width */
      }
    }

    .random-badge {
      background: #28a745;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      margin-left: 10px;
    }
  </style>
</head>
<body>

  <div class="container">
    <div class="header">
      <h1>üöí Incident Commander Assessment</h1>
      <p>Enhanced Scenario Builder for Emergency Response Training</p>
    </div>

    <div class="form-container">
      <!-- Basic Scenario Information -->
      <div class="form-section">
        <h2 class="section-title">
          <span class="icon">üìã</span>
          Basic Scenario Information
        </h2>

        <div class="form-group">
          <label for="scenarioTitle">Scenario Title</label>
          <select id="scenarioTitle">
            <option>High-Rise Office Building Fire</option>
            <option>Large Residential Fire</option>
            <option>Industrial Hazmat Spill</option>
            <option>Multi-Vehicle RTC</option>
            <option>M4 Motorway Multi-Vehicle Collision</option>
            <option>A34 Serious RTC with Fatalities</option>
            <option>A329M Multi-Vehicle Pile-Up</option>
            <option>Windsor Castle Fire Emergency</option>
            <option>Heathrow Aircraft Emergency</option>
            <option>Thames Water Rescue</option>
            <option>Warehouse Fire</option>
            <option>School Fire</option>
            <option>Hospital Fire</option>
            <option>Chemical Plant Incident</option>
            <option>Building Collapse</option>
            <option>Large Animal Rescue</option>
            <option>Rail Incident</option>
            <option>Aviation Emergency</option>
            <option>Fuel/Chemical Spill</option>
            <option>Confined Space Rescue</option>
          </select>
        </div>

        <div class="form-group">
          <label for="location">Location / Setting</label>
          <select id="location">
            <option>Reading City Centre</option>
            <option>Slough Industrial Estate</option>
            <option>Windsor Town Centre</option>
            <option>Newbury Business District</option>
            <option>Bracknell Commercial Area</option>
            <option>Wokingham Residential</option>
            <option>M4 Junction 12 (Theale)</option>
            <option>M4 Junction 13 (Chieveley)</option>
            <option>A34 near Newbury</option>
            <option>A329M near Bracknell</option>
            <option>Thames Waterway</option>
            <option>Heathrow Airport (border)</option>
            <option>Rural Berkshire</option>
            <option>Suburban Estate</option>
            <option>Industrial Zone</option>
            <option>Coastal Area</option>
          </select>
        </div>

        <div class="form-group">
          <label for="incidentType">Incident Type</label>
          <select id="incidentType">
            <option>Structural Fire</option>
            <option>Hazardous Materials Incident</option>
            <option>Major Road Traffic Collision</option>
            <option>Search & Rescue Operation</option>
            <option>Water Rescue (Thames)</option>
            <option>Confined Space Rescue</option>
            <option>Chemical Leak/Spill</option>
            <option>Gas Explosion</option>
            <option>Rail Emergency</option>
            <option>Aviation Emergency</option>
            <option>Large Animal Rescue</option>
            <option>Building Collapse</option>
            <option>Flooding Incident</option>
            <option>Motorway Emergency</option>
          </select>
        </div>

        <div class="form-group">
          <label for="timeSetting">Date / Time</label>
          <select id="timeSetting">
            <option>Day (Good visibility)</option>
            <option>Night (Limited visibility)</option>
            <option>Early Morning (Rush hour)</option>
            <option>Evening (Peak traffic)</option>
            <option>Weekend</option>
            <option>Holiday Period</option>
          </select>
        </div>

        <div class="form-group">
          <label for="weather">Weather Conditions</label>
          <select id="weather">
            <option>Clear and dry</option>
            <option>Heavy rain</option>
            <option>Strong winds</option>
            <option>Foggy conditions</option>
            <option>Icy conditions</option>
            <option>Snow</option>
          </select>
        </div>
      </div>

      <!-- Building & Environment Details -->
      <div class="form-section">
        <h2 class="section-title">
          <span class="icon">üè¢</span>
          Building & Environment
        </h2>

        <div class="form-group">
          <label for="buildingConstruction">Construction Type</label>
          <select id="buildingConstruction">
            <option>Brick and mortar</option>
            <option>Steel frame</option>
            <option>Concrete construction</option>
            <option>Timber frame</option>
            <option>Mixed construction</option>
            <option>Prefabricated</option>
          </select>
        </div>

        <div class="form-group">
          <label for="buildingFloors">Number of Floors</label>
          <select id="buildingFloors">
            <option>Single storey</option>
            <option>2-3 floors</option>
            <option>4-6 floors</option>
            <option>High-rise (7-15 floors)</option>
            <option>Super high-rise (16+ floors)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="buildingProtection">Fire Protection Systems</label>
          <select id="buildingProtection">
            <option>Fully sprinklered and operational</option>
            <option>Partial sprinkler coverage</option>
            <option>Sprinklers offline in affected zone</option>
            <option>No sprinkler system</option>
            <option>Alarm system only</option>
            <option>No fire protection systems</option>
          </select>
        </div>

        <div class="form-group">
          <label for="accessPoints">Access & Egress</label>
          <select id="accessPoints">
            <option>Multiple access points available</option>
            <option>Main entrance only</option>
            <option>Restricted access due to location</option>
            <option>Access compromised by incident</option>
            <option>Rear access only</option>
          </select>
        </div>

        <div class="form-group">
          <label for="occupancy">Occupancy Status</label>
          <select id="occupancy">
            <option>Normal occupancy</option>
            <option>High occupancy (event/meeting)</option>
            <option>Low occupancy (night/weekend)</option>
            <option>Evacuated building</option>
            <option>Mixed occupancy</option>
            <option>Unknown occupancy</option>
          </select>
        </div>
      </div>

      <!-- Incident Specifics -->
      <div class="form-section">
        <h2 class="section-title">
          <span class="icon">üî•</span>
          Incident Specifics
        </h2>

        <div class="form-group">
          <label for="situationSummary">Initial Situation</label>
          <select id="situationSummary">
            <option>Fire on upper floor with persons reported</option>
            <option>Hazmat spill with public exposure risk</option>
            <option>Multi-vehicle collision with multiple casualties</option>
            <option>Building collapse with persons trapped</option>
            <option>Gas leak with evacuation required</option>
            <option>Flooding with rescue operations needed</option>
          </select>
        </div>

        <div class="form-group">
          <label for="casualties">Casualty Information</label>
          <select id="casualties">
            <option>No casualties reported</option>
            <option>Minor injuries only</option>
            <option>Multiple casualties, various severity</option>
            <option>Serious casualties requiring immediate attention</option>
            <option>Fatalities confirmed</option>
            <option>Missing persons reported</option>
          </select>
        </div>

        <div class="form-group">
          <label for="resources">Initial Resources</label>
          <select id="resources">
            <option>Standard first attendance</option>
            <option>Make pumps 4</option>
            <option>Make pumps 6</option>
            <option>Major incident declared</option>
            <option>Multi-agency response</option>
            <option>Specialist teams required</option>
          </select>
        </div>

        <div class="form-group">
          <label for="complications">Potential Complications</label>
          <select id="complications">
            <option>Standard fire conditions</option>
            <option>Structural integrity concerns</option>
            <option>Hazardous materials present</option>
            <option>Power supply issues</option>
            <option>Water supply limitations</option>
            <option>Access route problems</option>
            <option>Media and public interest</option>
          </select>
        </div>

        <div class="form-group">
          <label for="exercisePurpose">Primary Assessment Focus</label>
          <select id="exercisePurpose">
            <option>Level 1 IC size-up and initial command</option>
            <option>Level 2 IC sector management</option>
            <option>Multi-agency coordination</option>
            <option>Resource allocation and prioritisation</option>
            <option>Risk assessment and decision making</option>
            <option>Communication and delegation</option>
          </select>
        </div>
      </div>

      <!-- Competencies Assessment -->
      <div class="form-section">
        <h2 class="section-title">
          <span class="icon">‚úÖ</span>
          Competency Assessment
        </h2>

        <div class="competency-grid">
          <div class="form-group">
            <label for="comp1">Primary Competency 1</label>
            <select id="comp1">
              <option>Size-up & METHANE report</option>
              <option>Effective IC declaration</option>
              <option>Life safety prioritisation</option>
              <option>Risk assessment skills</option>
              <option>Water supply management</option>
              <option>Command structure establishment</option>
            </select>
          </div>

          <div class="form-group">
            <label for="comp2">Primary Competency 2</label>
            <select id="comp2">
              <option>Sectorisation & delegation</option>
              <option>Dynamic risk assessment</option>
              <option>Multi-agency liaison</option>
              <option>Resource coordination</option>
              <option>Information management</option>
              <option>Decision-making under pressure</option>
            </select>
          </div>

          <div class="form-group">
            <label for="comp3">Secondary Competency 1</label>
            <select id="comp3">
              <option>Communications management</option>
              <option>Safety officer coordination</option>
              <option>Media relations</option>
              <option>Tactical ventilation decisions</option>
              <option>Evacuation procedures</option>
              <option>Equipment deployment</option>
            </select>
          </div>

          <div class="form-group">
            <label for="comp4">Secondary Competency 2</label>
            <select id="comp4">
              <option>Incident escalation procedures</option>
              <option>Environmental considerations</option>
              <option>Community impact assessment</option>
              <option>Investigation preservation</option>
              <option>Welfare and rehab management</option>
              <option>Stand-down procedures</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label for="assessmentLevel">Assessment Level</label>
          <select id="assessmentLevel">
            <option>Trainee Development</option>
            <option>Competency Maintenance</option>
            <option>Advanced Skills</option>
            <option>Annual Assessment</option>
            <option>Post-Incident Review</option>
          </select>
        </div>

        <div class="form-group">
          <label for="duration">Scenario Duration</label>
          <select id="duration">
            <option>20 minutes (Brief scenario)</option>
            <option>45 minutes (Standard exercise)</option>
            <option>90 minutes (Extended scenario)</option>
            <option>Multi-session (Progressive)</option>
          </select>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="button-group">
        <button type="button" class="btn-secondary" onclick="randomiseScenario()">üé≤ Randomise Scenario</button>
        <button type="button" class="btn-primary" onclick="generateBerkshireScenario()">üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø Berkshire Specific</button>
        <button type="button" class="btn-primary" onclick="generateScenario()">üìù Generate Scenario</button>
        <button type="button" class="btn-success" onclick="exportScenario()">üíæ Export Scenario</button>
      </div>

      <!-- Scenario Output -->
      <div id="scenarioOutput" class="scenario-output">
        <h3>Generated Scenario Brief</h3>
        <div id="scenarioContent" class="scenario-content"></div>
      </div>
    </div>
  </div>

  <script>
    let currentScenarioData = {};

    // Berkshire-specific scenario configurations
    const berkshireScenarios = {
      locations: [
        'Reading City Centre', 'Slough Industrial Estate', 'Windsor Town Centre',
        'Newbury Business District', 'Bracknell Commercial Area', 'Wokingham Residential',
        'M4 Junction 12 (Theale)', 'M4 Junction 13 (Chieveley)', 'A34 near Newbury',
        'A329M near Bracknell', 'Thames Waterway', 'Heathrow Airport (border)'
      ],
      incidents: [
        { title: 'M4 Motorway Multi-Vehicle Collision', type: 'Major Road Traffic Collision', complications: 'Access route problems' },
        { title: 'A34 Serious RTC with Fatalities', type: 'Major Road Traffic Collision', complications: 'Structural integrity concerns' },
        { title: 'Windsor Castle Fire Emergency', type: 'Structural Fire', complications: 'Media and public interest' },
        { title: 'Thames Water Rescue', type: 'Water Rescue (Thames)', complications: 'Water supply limitations' },
        { title: 'Heathrow Aircraft Emergency', type: 'Aviation Emergency', complications: 'Multi-agency response' },
        { title: 'Reading High-Rise Office Fire', type: 'Structural Fire', complications: 'Structural integrity concerns' },
        { title: 'Slough Chemical Spill', type: 'Hazardous Materials Incident', complications: 'Hazardous materials present' }
      ],
      buildings: [
        'High-rise (7-15 floors)', '4-6 floors', '2-3 floors'
      ],
      complications: [
        'M4/A34 traffic disruption', 'Thames Valley Police coordination', 'Heathrow flight path considerations',
        'Royal protection protocols', 'Media and public interest', 'Cross-border (London) response'
      ]
    };

    function generateBerkshireScenario() {
      // Select random Berkshire-specific elements
      const incident = berkshireScenarios.incidents[Math.floor(Math.random() * berkshireScenarios.incidents.length)];
      const location = berkshireScenarios.locations[Math.floor(Math.random() * berkshireScenarios.locations.length)];

      // Set form values for Berkshire scenario
      document.getElementById('scenarioTitle').value = incident.title;
      document.getElementById('location').value = location;
      document.getElementById('incidentType').value = incident.type;
      document.getElementById('complications').value = incident.complications;

      // Set other realistic values for Berkshire context
      document.getElementById('timeSetting').value = document.getElementById('timeSetting').options[Math.floor(Math.random() * document.getElementById('timeSetting').options.length)].value;
      document.getElementById('weather').value = document.getElementById('weather').options[Math.floor(Math.random() * document.getElementById('weather').options.length)].value;
      document.getElementById('resources').value = Math.random() > 0.7 ? 'Multi-agency response' : 'Make pumps 4';

      // Visual feedback for Berkshire generation
      const berkshireFields = ['scenarioTitle', 'location', 'incidentType', 'complications'];
      berkshireFields.forEach(fieldId => {
        const field = document.getElementById(fieldId);
        field.style.background = '#e8f4fd';
        field.style.border = '2px solid #004080';
        setTimeout(() => {
          field.style.background = 'white';
          field.style.border = '2px solid #e1e5e9';
        }, 2000);
      });

      // Auto-generate the scenario
      setTimeout(() => {
        generateScenario();
      }, 500);
    }

    function randomiseScenario() {
      const selects = document.querySelectorAll('select');
      selects.forEach(select => {
        const options = select.options;
        const randomIndex = Math.floor(Math.random() * options.length);
        select.selectedIndex = randomIndex;
      });

      // Add visual feedback
      selects.forEach(select => {
        select.style.background = '#e8f5e8';
        setTimeout(() => {
          select.style.background = 'white';
        }, 1000);
      });
    }

    function collectFormData() {
      const form = document.getElementById('scenarioTitle').closest('.form-container');
      const data = {};

      const selects = form.querySelectorAll('select');
      selects.forEach(select => {
        data[select.id] = select.value;
      });

      return data;
    }

    function generateScenario() {
      currentScenarioData = collectFormData();

      const scenarioHtml = `
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
          <h4 style="color: #004080; margin-bottom: 15px;">üìç SCENARIO: ${currentScenarioData.scenarioTitle}</h4>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
              <strong>Location:</strong> ${currentScenarioData.location}<br>
              <strong>Time:</strong> ${currentScenarioData.timeSetting}<br>
              <strong>Weather:</strong> ${currentScenarioData.weather}<br>
              <strong>Incident Type:</strong> ${currentScenarioData.incidentType}
            </div>
            <div>
              <strong>Building:</strong> ${currentScenarioData.buildingFloors}, ${currentScenarioData.buildingConstruction}<br>
              <strong>Protection:</strong> ${currentScenarioData.buildingProtection}<br>
              <strong>Access:</strong> ${currentScenarioData.accessPoints}<br>
              <strong>Occupancy:</strong> ${currentScenarioData.occupancy}
            </div>
          </div>

          <div style="background: white; padding: 15px; border-left: 4px solid #dc3545; margin-bottom: 15px;">
            <strong>INITIAL SITUATION:</strong><br>
            ${currentScenarioData.situationSummary}<br>
            <strong>Casualties:</strong> ${currentScenarioData.casualties}<br>
            <strong>Resources:</strong> ${currentScenarioData.resources}<br>
            <strong>Complications:</strong> ${currentScenarioData.complications}
          </div>

          <div style="background: #e3f2fd; padding: 15px; border-radius: 6px;">
            <h5 style="color: #1976d2; margin-bottom: 10px;">üéØ ASSESSMENT FOCUS: ${currentScenarioData.exercisePurpose}</h5>
            <strong>Primary Competencies:</strong>
            <ul style="margin: 10px 0; padding-left: 20px;">
              <li>${currentScenarioData.comp1}</li>
              <li>${currentScenarioData.comp2}</li>
            </ul>
            <strong>Secondary Competencies:</strong>
            <ul style="margin: 10px 0; padding-left: 20px;">
              <li>${currentScenarioData.comp3}</li>
              <li>${currentScenarioData.comp4}</li>
            </ul>
            <strong>Duration:</strong> ${currentScenarioData.duration}<br>
            <strong>Level:</strong> ${currentScenarioData.assessmentLevel}
          </div>
        </div>

        <div style="background: #fff3cd; padding: 15px; border-radius: 6px; border-left: 4px solid #ffc107;">
          <h5 style="color: #856404;">üìã Key Decision Points for Assessment:</h5>
          <ul style="margin: 10px 0; padding-left: 20px; line-height: 1.6;">
            <li>Initial size-up and METHANE report accuracy</li>
            <li>Risk assessment and safety zone establishment</li>
            <li>Resource deployment and tactical plan</li>
            <li>Communication effectiveness with control and crews</li>
            <li>Adaptability to changing incident conditions</li>
            <li>Multi-agency coordination and liaison</li>
          </ul>
        </div>
      `;

      document.getElementById('scenarioContent').innerHTML = scenarioHtml;
      document.getElementById('scenarioOutput').style.display = 'block';
      document.getElementById('scenarioOutput').scrollIntoView({ behavior: 'smooth' });
    }

    function exportScenario() {
      if (Object.keys(currentScenarioData).length === 0) {
        const outputDiv = document.getElementById('scenarioOutput');
        outputDiv.style.display = 'block';
        outputDiv.innerHTML = `<h3 style="color: #dc3545;">Please generate a scenario first!</h3>`;
        outputDiv.scrollIntoView({ behavior: 'smooth' });
        return;
      }

      const exportData = {
        ...currentScenarioData,
        generatedAt: new Date().toISOString(),
        scenarioId: 'IC_' + Date.now()
      };

      const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `scenario_${exportData.scenarioId}.json`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);

      const outputDiv = document.getElementById('scenarioOutput');
      outputDiv.style.display = 'block';
      outputDiv.innerHTML = `<h3>Generated Scenario Brief</h3><div id="scenarioContent" class="scenario-content">Scenario exported successfully as scenario_${exportData.scenarioId}.json!</div>`;
      outputDiv.scrollIntoView({ behavior: 'smooth' });
    }

    // Auto-save functionality
    setInterval(() => {
      const data = collectFormData();
      if (Object.keys(data).length > 0) {
        localStorage.setItem('scenarioBuilder_draft', JSON.stringify(data));
      }
    }, 30000); // Save every 30 seconds

    // Load saved draft on page load
    window.addEventListener('load', () => {
      const saved = localStorage.getItem('scenarioBuilder_draft');
      if (saved) {
        try {
          const data = JSON.parse(saved);
          Object.keys(data).forEach(key => {
            const element = document.getElementById(key);
            if (element) {
              element.value = data[key];
            }
          });
        } catch (e) {
          console.log('Could not load saved draft', e);
        }
      }
    });
  </script>

</body>
</html>
